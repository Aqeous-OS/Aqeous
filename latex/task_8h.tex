\hypertarget{task_8h}{}\section{Experimental Edition/\+Source/\+Multi\+Tasking/task.h File Reference}
\label{task_8h}\index{Experimental Edition/\+Source/\+Multi\+Tasking/task.\+h@{Experimental Edition/\+Source/\+Multi\+Tasking/task.\+h}}
{\ttfamily \#include $<$common.\+h$>$}\\*
{\ttfamily \#include $<$mem.\+h$>$}\\*
{\ttfamily \#include $<$sys.\+h$>$}\\*
{\ttfamily \#include $<$paging.\+h$>$}\\*
Include dependency graph for task.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{task_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=189pt]{task_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structRegisters}{Registers}
\item 
struct \hyperlink{structtask}{task}
\item 
struct \hyperlink{structqueues}{queues}
\item 
struct \hyperlink{struct____tss__struct}{\+\_\+\+\_\+tss\+\_\+struct}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{task_8h_aac747bed84189f8cfa509b94d488e622}{M\+A\+X\+\_\+\+T\+A\+S\+KS}~10000
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{structtask}{task} \hyperlink{task_8h_a8aeef2cdb643462b97cd459a8e68cad3}{task\+\_\+t}
\item 
typedef struct \hyperlink{structqueues}{queues} $\ast$ \hyperlink{task_8h_ad1e442224ff3507033e6fc64ca67b2f8}{queue\+\_\+t}
\item 
typedef volatile struct \hyperlink{struct____tss__struct}{\+\_\+\+\_\+tss\+\_\+struct} \hyperlink{task_8h_aa2a3cd026faa98dd705aba6998ac04e6}{tss\+\_\+struct\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{task_8h_aea945e91746a54801f4763ad264746b9}{init\+Tasking} ()
\item 
void \hyperlink{task_8h_ac17e3c633beee76c742235a6c5af67e8}{create\+Task} (\hyperlink{task_8h_a8aeef2cdb643462b97cd459a8e68cad3}{task\+\_\+t} $\ast$\hyperlink{structtask}{task}, void($\ast$\hyperlink{ahci_8c_a3b56e67c68d28003939a2da223f12671}{func})(), char $\ast$name, uint32\+\_\+t \hyperlink{multiboot_8h_a3c67431132e70c431fbfc3bf03a63dd4}{flags}, uint32\+\_\+t priority, \hyperlink{paging_8h_a681a136bf0b5fcccb0c77e91ad5ad7b9}{pdirectory} $\ast$pagedir)
\item 
void \hyperlink{task_8h_ad8e3087dd5a5c3096d2499c84f670c28}{scheduler} ()
\item 
int \hyperlink{task_8h_a2ccdeb931b6cfcf884ca5ad73e0ba11c}{getpid} ()
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{task_8h_a720173e80c53ae6b5fa163fd6e81ad27}{\+\_\+\+\_\+attribute\+\_\+\+\_\+}
\item 
\hyperlink{task_8h_ad1e442224ff3507033e6fc64ca67b2f8}{queue\+\_\+t} \hyperlink{task_8h_a6c4a3431ba3f30c636f4e30e95f91d60}{queue} \mbox{[}10\mbox{]}
\item 
\hyperlink{task_8h_ad1e442224ff3507033e6fc64ca67b2f8}{queue\+\_\+t} \hyperlink{task_8h_aadbf085cc1040de2b9c8f238923cfe6a}{last\+\_\+queue\+\_\+member} \mbox{[}10\mbox{]}
\item 
\hyperlink{task_8h_ad1e442224ff3507033e6fc64ca67b2f8}{queue\+\_\+t} \hyperlink{task_8h_a1f60beb8ddb74e41a8b2bb930a5346c2}{current\+\_\+queue\+\_\+member} \mbox{[}10\mbox{]}
\item 
uint32\+\_\+t \hyperlink{task_8h_ad22ece930bea10cb832718f2476f64fb}{timer\+\_\+tick} =5
\item 
uint32\+\_\+t \hyperlink{task_8h_aef17a2244b67698919998c8cbfa22dae}{rn} =0
\item 
uint32\+\_\+t \hyperlink{task_8h_a7bfcf28b64e7b394e8a9d158b52c9198}{higher\+\_\+tick} =4
\item 
uint32\+\_\+t \hyperlink{task_8h_a2ac2d83baa495c8f8f5ce21d0318db55}{current\+\_\+queue} =0
\item 
uint32\+\_\+t \hyperlink{task_8h_a15c4a0f6d7427b3441c26bc9c13f098e}{max\+\_\+priority} =0
\item 
uint32\+\_\+t \hyperlink{task_8h_abb4414aa53c092db91f907cb96ff2317}{queue\+\_\+serials} \mbox{[}10\mbox{]}
\item 
\hyperlink{task_8h_a8aeef2cdb643462b97cd459a8e68cad3}{task\+\_\+t} $\ast$ \hyperlink{task_8h_a3caeb759add413a3500f7904a3e0f7ea}{Start\+Task}
\item 
\hyperlink{task_8h_a8aeef2cdb643462b97cd459a8e68cad3}{task\+\_\+t} $\ast$ \hyperlink{task_8h_a409499878d18d4bc424e5248c1a41819}{current\+Task}
\item 
uint32\+\_\+t \hyperlink{task_8h_a83814dee4b70b00791ca3f88e79a4e9c}{old\+\_\+esp}
\item 
uint32\+\_\+t \hyperlink{task_8h_a2e8249ebd29441d95406465c8b92d054}{current\+\_\+esp}
\item 
uint32\+\_\+t \hyperlink{task_8h_aa8a4e2d7096ee211383517165e036958}{Number\+Of\+Tasks}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{task.\+h@{task.\+h}!M\+A\+X\+\_\+\+T\+A\+S\+KS@{M\+A\+X\+\_\+\+T\+A\+S\+KS}}
\index{M\+A\+X\+\_\+\+T\+A\+S\+KS@{M\+A\+X\+\_\+\+T\+A\+S\+KS}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{M\+A\+X\+\_\+\+T\+A\+S\+KS}{MAX_TASKS}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+A\+X\+\_\+\+T\+A\+S\+KS~10000}\hypertarget{task_8h_aac747bed84189f8cfa509b94d488e622}{}\label{task_8h_aac747bed84189f8cfa509b94d488e622}


Definition at line 9 of file task.\+h.



\subsection{Typedef Documentation}
\index{task.\+h@{task.\+h}!queue\+\_\+t@{queue\+\_\+t}}
\index{queue\+\_\+t@{queue\+\_\+t}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{queue\+\_\+t}{queue_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf queues}$\ast$ {\bf queue\+\_\+t}}\hypertarget{task_8h_ad1e442224ff3507033e6fc64ca67b2f8}{}\label{task_8h_ad1e442224ff3507033e6fc64ca67b2f8}
\index{task.\+h@{task.\+h}!task\+\_\+t@{task\+\_\+t}}
\index{task\+\_\+t@{task\+\_\+t}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{task\+\_\+t}{task_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf task}  {\bf task\+\_\+t}}\hypertarget{task_8h_a8aeef2cdb643462b97cd459a8e68cad3}{}\label{task_8h_a8aeef2cdb643462b97cd459a8e68cad3}
\index{task.\+h@{task.\+h}!tss\+\_\+struct\+\_\+t@{tss\+\_\+struct\+\_\+t}}
\index{tss\+\_\+struct\+\_\+t@{tss\+\_\+struct\+\_\+t}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{tss\+\_\+struct\+\_\+t}{tss_struct_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef volatile struct {\bf \+\_\+\+\_\+tss\+\_\+struct}  {\bf tss\+\_\+struct\+\_\+t}}\hypertarget{task_8h_aa2a3cd026faa98dd705aba6998ac04e6}{}\label{task_8h_aa2a3cd026faa98dd705aba6998ac04e6}


\subsection{Function Documentation}
\index{task.\+h@{task.\+h}!create\+Task@{create\+Task}}
\index{create\+Task@{create\+Task}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{create\+Task(task\+\_\+t $\ast$task, void($\ast$func)(), char $\ast$name, uint32\+\_\+t flags, uint32\+\_\+t priority, pdirectory $\ast$pagedir)}{createTask(task_t *task, void(*func)(), char *name, uint32_t flags, uint32_t priority, pdirectory *pagedir)}}]{\setlength{\rightskip}{0pt plus 5cm}void create\+Task (
\begin{DoxyParamCaption}
\item[{{\bf task\+\_\+t} $\ast$}]{task, }
\item[{void($\ast$)()}]{func, }
\item[{char $\ast$}]{name, }
\item[{uint32\+\_\+t}]{flags, }
\item[{uint32\+\_\+t}]{priority, }
\item[{{\bf pdirectory} $\ast$}]{pagedir}
\end{DoxyParamCaption}
)}\hypertarget{task_8h_ac17e3c633beee76c742235a6c5af67e8}{}\label{task_8h_ac17e3c633beee76c742235a6c5af67e8}


Definition at line 170 of file task.\+c.


\begin{DoxyCode}
171 \{
172   \hyperlink{structtask}{task\_t}* NewTask=task;
173   NewTask->\hyperlink{structtask_a9c01e75ea4d3ddf248a78c9d70f50237}{pdir} = pagedir;
174   uint32\_t \hyperlink{descriptors_8h_a0523cedff47e2441fc198b7770ec5d3f}{base}; \textcolor{comment}{//temporary pointer - will be set to the kstacktop}
175                              \textcolor{comment}{//and afterwards saved in esp of proc structure}
176   NewTask->\hyperlink{structtask_a682bd33719ea3bc948375a5c51e91e4b}{regs}.\hyperlink{structregisters_a9cc3091e4c0f25d142ac74443dc8d384}{esp}=\hyperlink{mem_8c_a3aa34aa2a8a9c7ac4bf8a315e7f85f18}{kmalloc\_a}(4096);  \textcolor{comment}{// ugh.. hope this works..}
177   \hyperlink{string_8h_ab70ae7ba054fd55023ccf5b7ceae875a}{memset}((\textcolor{keywordtype}{void}*)NewTask->\hyperlink{structtask_a682bd33719ea3bc948375a5c51e91e4b}{regs}.\hyperlink{structregisters_a9cc3091e4c0f25d142ac74443dc8d384}{esp},0,4096);
178   \hyperlink{task_8c_a1abf78464029077a8080178b9e04745c}{stack}=(uint32\_t*)NewTask->\hyperlink{structtask_a682bd33719ea3bc948375a5c51e91e4b}{regs}.\hyperlink{structregisters_a9cc3091e4c0f25d142ac74443dc8d384}{esp}+4096;
179   NewTask->\hyperlink{structtask_a9a1171f8e45d2c08d5a70290b94c5a6f}{StackTop}=\hyperlink{task_8c_a1abf78464029077a8080178b9e04745c}{stack};
180   base=(uint32\_t)\hyperlink{task_8c_a1abf78464029077a8080178b9e04745c}{stack};
181   NewTask->\hyperlink{structtask_a682bd33719ea3bc948375a5c51e91e4b}{regs}.\hyperlink{structregisters_a8d156d1d27fcb1c2f2bbcce1a784431f}{ebp}=\hyperlink{descriptors_8h_a0523cedff47e2441fc198b7770ec5d3f}{base};
182   *--\hyperlink{task_8c_a1abf78464029077a8080178b9e04745c}{stack} = \hyperlink{descriptors_8h_aa2585d779da0ab21273a8d92de9a0ebe}{flags}; \textcolor{comment}{// eflags}
183     *--\hyperlink{task_8c_a1abf78464029077a8080178b9e04745c}{stack} = 0x8; \textcolor{comment}{// cs}
184     *--\hyperlink{task_8c_a1abf78464029077a8080178b9e04745c}{stack} = (uint32\_t)\hyperlink{ahci_8c_a3b56e67c68d28003939a2da223f12671}{func}; \textcolor{comment}{// eip}
185   uint32\_t stacktop=\hyperlink{task_8c_a1abf78464029077a8080178b9e04745c}{stack};
186     *--\hyperlink{task_8c_a1abf78464029077a8080178b9e04745c}{stack} = 0; \textcolor{comment}{// eax}
187     *--\hyperlink{task_8c_a1abf78464029077a8080178b9e04745c}{stack} = 0; \textcolor{comment}{// ecx}
188     *--\hyperlink{task_8c_a1abf78464029077a8080178b9e04745c}{stack} = 0; \textcolor{comment}{// edx;}
189     *--\hyperlink{task_8c_a1abf78464029077a8080178b9e04745c}{stack} = 0; \textcolor{comment}{//ebx}
190     *--\hyperlink{task_8c_a1abf78464029077a8080178b9e04745c}{stack} = stacktop; \textcolor{comment}{//esp}
191     *--\hyperlink{task_8c_a1abf78464029077a8080178b9e04745c}{stack} = \hyperlink{descriptors_8h_a0523cedff47e2441fc198b7770ec5d3f}{base}; \textcolor{comment}{//ebp}
192     *--\hyperlink{task_8c_a1abf78464029077a8080178b9e04745c}{stack} = 0; \textcolor{comment}{//esi}
193     *--\hyperlink{task_8c_a1abf78464029077a8080178b9e04745c}{stack} = 0; \textcolor{comment}{//edi}
194     *--\hyperlink{task_8c_a1abf78464029077a8080178b9e04745c}{stack} = 0x10; \textcolor{comment}{// ds}
195     *--\hyperlink{task_8c_a1abf78464029077a8080178b9e04745c}{stack} = 0x10; \textcolor{comment}{// fs}
196     *--\hyperlink{task_8c_a1abf78464029077a8080178b9e04745c}{stack} = 0x10; \textcolor{comment}{// es}
197     *--\hyperlink{task_8c_a1abf78464029077a8080178b9e04745c}{stack} = 0x10; \textcolor{comment}{// gs}
198 
199   NewTask->\hyperlink{structtask_a682bd33719ea3bc948375a5c51e91e4b}{regs}.\hyperlink{structregisters_af9a17981c1cdac71d6f82ba32466a036}{eflags} = \hyperlink{descriptors_8h_aa2585d779da0ab21273a8d92de9a0ebe}{flags}; \textcolor{comment}{// eflags}
200     NewTask->\hyperlink{structtask_a682bd33719ea3bc948375a5c51e91e4b}{regs}.\hyperlink{structregisters_a7d73555c87de229a90292640f544ab27}{cs} = 0x8; \textcolor{comment}{// cs}
201     NewTask->\hyperlink{structtask_a682bd33719ea3bc948375a5c51e91e4b}{regs}.\hyperlink{structregisters_aaeedf83509826a731e436025aeb53576}{eip} = (uint32\_t)\hyperlink{ahci_8c_a3b56e67c68d28003939a2da223f12671}{func}; \textcolor{comment}{// eip}
202     NewTask->\hyperlink{structtask_a682bd33719ea3bc948375a5c51e91e4b}{regs}.\hyperlink{structregisters_a1e01e806248cd98e55e0b053db6a6a51}{eax} = 0; \textcolor{comment}{// eax}
203     NewTask->\hyperlink{structtask_a682bd33719ea3bc948375a5c51e91e4b}{regs}.\hyperlink{structregisters_aa8989b2fef42dca1d656f724eb324f51}{ebx} = 0; \textcolor{comment}{// ebx}
204     NewTask->\hyperlink{structtask_a682bd33719ea3bc948375a5c51e91e4b}{regs}.\hyperlink{structregisters_a00ce491148fd90800c18bd2d4c22e090}{ecx} = 0; \textcolor{comment}{// ecx;}
205     NewTask->\hyperlink{structtask_a682bd33719ea3bc948375a5c51e91e4b}{regs}.\hyperlink{structregisters_af3b40afa73ecdaf2c9279b9ed482d26b}{edx} = 0; \textcolor{comment}{//edx}
206     NewTask->\hyperlink{structtask_a682bd33719ea3bc948375a5c51e91e4b}{regs}.\hyperlink{structregisters_a8da011d75d93d36da6c4cf28e1fa3179}{esi} = 0; \textcolor{comment}{//esi}
207     NewTask->\hyperlink{structtask_a682bd33719ea3bc948375a5c51e91e4b}{regs}.\hyperlink{structregisters_aeedcb447fe6640d43d09c27b7cb8db3b}{edi} = 0; \textcolor{comment}{//edi}
208     NewTask->\hyperlink{structtask_aa7479c4cde3fed5f6c19fbc857112310}{ds} = 0x10; \textcolor{comment}{// ds}
209     NewTask->\hyperlink{structtask_a2cb171a9e5b5d739cad8b83dffd05be3}{fs} = 0x10; \textcolor{comment}{// ds}
210     NewTask->\hyperlink{structtask_a95a59f8605e8bda30d38f73b67af42cc}{es} = 0x10; \textcolor{comment}{// ds}
211     NewTask->\hyperlink{structtask_a711674cead4b90d23503f3dfba0a489e}{gs} = 0x10; \textcolor{comment}{// ds}
212 
213   NewTask->\hyperlink{structtask_a9acefcf2fef4e255ec63a180f8ba6aea}{ss}=0x10;
214   NewTask->\hyperlink{structtask_a682bd33719ea3bc948375a5c51e91e4b}{regs}.\hyperlink{structregisters_a9cc3091e4c0f25d142ac74443dc8d384}{esp} = (uint32\_t)\hyperlink{task_8c_a1abf78464029077a8080178b9e04745c}{stack}; \textcolor{comment}{// Just initialize the stack :D}
215 
216   NewTask->\hyperlink{structtask_a3f2c7149983c28824baf1aebdfa7af98}{next} = \hyperlink{task_8h_a3caeb759add413a3500f7904a3e0f7ea}{StartTask}->\hyperlink{structtask_a3f2c7149983c28824baf1aebdfa7af98}{next};
217 
218   NewTask->\hyperlink{structtask_a22d3a20ff225043177b269ec1a0a5f1a}{id}=\hyperlink{task_8c_a7862efcd924f4ea4a57d32e1f73abc85}{next\_pid};
219   NewTask->\hyperlink{structtask_ac62cef90688fbf752e32cebb122f178a}{priority}=priority;
220 
221   NewTask->\hyperlink{structtask_a9aef5dbd16cfbbdb0c8b13416549a07f}{name}=name;
222 
223   \hyperlink{task_8c_a0a4428c305637be5db5e2dbb45434e53}{lastMade\_task}->\hyperlink{structtask_a3f2c7149983c28824baf1aebdfa7af98}{next}=NewTask;
224   \hyperlink{task_8c_a0a4428c305637be5db5e2dbb45434e53}{lastMade\_task}=NewTask;
225 
226   \hyperlink{task_8c_a7862efcd924f4ea4a57d32e1f73abc85}{next\_pid}++;
227 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{task_8h_ac17e3c633beee76c742235a6c5af67e8_cgraph}
\end{center}
\end{figure}


\index{task.\+h@{task.\+h}!getpid@{getpid}}
\index{getpid@{getpid}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{getpid()}{getpid()}}]{\setlength{\rightskip}{0pt plus 5cm}int getpid (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{task_8h_a2ccdeb931b6cfcf884ca5ad73e0ba11c}{}\label{task_8h_a2ccdeb931b6cfcf884ca5ad73e0ba11c}
\index{task.\+h@{task.\+h}!init\+Tasking@{init\+Tasking}}
\index{init\+Tasking@{init\+Tasking}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{init\+Tasking()}{initTasking()}}]{\setlength{\rightskip}{0pt plus 5cm}void init\+Tasking (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{task_8h_aea945e91746a54801f4763ad264746b9}{}\label{task_8h_aea945e91746a54801f4763ad264746b9}


Definition at line 140 of file task.\+c.


\begin{DoxyCode}
141 \{
142    \hyperlink{task_8h_a3caeb759add413a3500f7904a3e0f7ea}{StartTask}=(\hyperlink{structtask}{task\_t}*)\hyperlink{mem_8c_a289ed80726a2c8adc2fa154f442eaad7}{kmalloc}(\textcolor{keyword}{sizeof}(\hyperlink{structtask}{task\_t}));
143    \hyperlink{task_8c_a0a4428c305637be5db5e2dbb45434e53}{lastMade\_task}=\hyperlink{task_8h_a3caeb759add413a3500f7904a3e0f7ea}{StartTask};
144    \hyperlink{task_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{current\_task}=\hyperlink{task_8h_a3caeb759add413a3500f7904a3e0f7ea}{StartTask};
145    \hyperlink{rand_8h_ae21bf457e8314ad2bc3e8017121e4fe1}{srandInit}();
146    \hyperlink{task_8c_ac17e3c633beee76c742235a6c5af67e8}{createTask}(\hyperlink{task_8h_a3caeb759add413a3500f7904a3e0f7ea}{StartTask},\hyperlink{task_8c_a83abbeda22fc5e6c2b35523b64199c1c}{idle},\textcolor{stringliteral}{"Idle System Task"},0x202,3,
      \hyperlink{task_8c_a8cf40646a9ed5f548aaf4eca68edc2de}{main\_dir});
147 
148    \hyperlink{structtask}{task\_t}* new\_task=(\hyperlink{structtask}{task\_t}*)\hyperlink{mem_8c_a289ed80726a2c8adc2fa154f442eaad7}{kmalloc}(\textcolor{keyword}{sizeof}(\hyperlink{structtask}{task\_t}));
149    \hyperlink{task_8c_ac17e3c633beee76c742235a6c5af67e8}{createTask}(new\_task,\hyperlink{task_8c_aa3aeb0da26dc8c723f5a5dd2b76a2782}{idle2},\textcolor{stringliteral}{"Another System Task"},0x202,2,
      \hyperlink{task_8c_a8cf40646a9ed5f548aaf4eca68edc2de}{main\_dir});
150 
151    \hyperlink{structtask}{task\_t}* new\_task2=(\hyperlink{structtask}{task\_t}*)\hyperlink{mem_8c_a289ed80726a2c8adc2fa154f442eaad7}{kmalloc}(\textcolor{keyword}{sizeof}(\hyperlink{structtask}{task\_t}));
152    \hyperlink{task_8c_ac17e3c633beee76c742235a6c5af67e8}{createTask}(new\_task2,\hyperlink{task_8c_aabad9d522af36e15e9d34f4a782afa0d}{idle3},\textcolor{stringliteral}{"another System Task"},0x202,1,
      \hyperlink{task_8c_a8cf40646a9ed5f548aaf4eca68edc2de}{main\_dir});
153 
154    \hyperlink{structtask}{task\_t}* new\_task3=(\hyperlink{structtask}{task\_t}*)\hyperlink{mem_8c_a289ed80726a2c8adc2fa154f442eaad7}{kmalloc}(\textcolor{keyword}{sizeof}(\hyperlink{structtask}{task\_t}));
155    \hyperlink{task_8c_ac17e3c633beee76c742235a6c5af67e8}{createTask}(new\_task3,\hyperlink{task_8c_adeffd15e0e55fd3f65d01f465c3515e8}{idle4},\textcolor{stringliteral}{"another System Task"},0x202,5,
      \hyperlink{task_8c_a8cf40646a9ed5f548aaf4eca68edc2de}{main\_dir});
156 
157    \hyperlink{structtask}{task\_t}* new\_task4=(\hyperlink{structtask}{task\_t}*)\hyperlink{mem_8c_a289ed80726a2c8adc2fa154f442eaad7}{kmalloc}(\textcolor{keyword}{sizeof}(\hyperlink{structtask}{task\_t}));
158    \hyperlink{task_8c_ac17e3c633beee76c742235a6c5af67e8}{createTask}(new\_task4,\hyperlink{task_8c_ab273c0141df882a8826777fc651cb0b3}{idle5},\textcolor{stringliteral}{"another System Task"},0x202,4,
      \hyperlink{task_8c_a8cf40646a9ed5f548aaf4eca68edc2de}{main\_dir});
159 
160    \hyperlink{structtask}{task\_t}* last\_task=(\hyperlink{structtask}{task\_t}*)\hyperlink{mem_8c_a289ed80726a2c8adc2fa154f442eaad7}{kmalloc}(\textcolor{keyword}{sizeof}(\hyperlink{structtask}{task\_t}));
161    \hyperlink{task_8c_ac17e3c633beee76c742235a6c5af67e8}{createTask}(last\_task,\hyperlink{task_8c_a5ac7cc447ad298dbed275b4aff28be84}{idle6},\textcolor{stringliteral}{"another System Task"},0x202,3,
      \hyperlink{task_8c_a8cf40646a9ed5f548aaf4eca68edc2de}{main\_dir});
162    \textcolor{comment}{//last\_task->regs.esp=initial\_esp;}
163    \hyperlink{stdio_8h_a9eff2528601a782ae056c1b1651bb5a8}{printf}(\textcolor{stringliteral}{"\(\backslash\)nMultiTasking Initialized"});
164    \textcolor{comment}{// Reenable interrupts.}
165    \textcolor{comment}{//exec();}
166 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{task_8h_aea945e91746a54801f4763ad264746b9_cgraph}
\end{center}
\end{figure}


\index{task.\+h@{task.\+h}!scheduler@{scheduler}}
\index{scheduler@{scheduler}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{scheduler()}{scheduler()}}]{\setlength{\rightskip}{0pt plus 5cm}void scheduler (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{task_8h_ad8e3087dd5a5c3096d2499c84f670c28}{}\label{task_8h_ad8e3087dd5a5c3096d2499c84f670c28}


Definition at line 240 of file task.\+c.


\begin{DoxyCode}
241 \{
242     \textcolor{keywordflow}{if}(\hyperlink{task_8h_ad22ece930bea10cb832718f2476f64fb}{timer\_tick})
243     \{
244       --\hyperlink{task_8h_ad22ece930bea10cb832718f2476f64fb}{timer\_tick};
245       \hyperlink{sys_8h_a1fe613f83e149aa1a4ae0d5f5149ab34}{outb}(0x20, 0x20); \textcolor{comment}{// send EoI to master PIC}
246       \textcolor{keyword}{asm} \textcolor{keyword}{volatile}(\textcolor{stringliteral}{"sti;\(\backslash\)}
247 \textcolor{stringliteral}{        iret"});
248     \}
249     \hyperlink{task_8c_a433023186dd65aa072670162177d686e}{old\_task}=\hyperlink{task_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{current\_task};
250     \textcolor{keyword}{asm} \textcolor{keyword}{volatile}(\textcolor{stringliteral}{"pop %%eax"}:\textcolor{stringliteral}{"=a"}(\hyperlink{task_8c_a433023186dd65aa072670162177d686e}{old\_task}->\hyperlink{structtask_a682bd33719ea3bc948375a5c51e91e4b}{regs}.\hyperlink{structregisters_aaeedf83509826a731e436025aeb53576}{eip}));
251     \hyperlink{task_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{current\_task}=\hyperlink{task_8c_a4743b3673a8794b8e7bd0b6c91a63cd5}{current\_task}->\hyperlink{structtask_a3f2c7149983c28824baf1aebdfa7af98}{next};
252     \textcolor{comment}{//current\_task=(task\_t*)tasks[(rn%(next\_pid-2))+1];}
253     \hyperlink{task_8h_ad22ece930bea10cb832718f2476f64fb}{timer\_tick}=10;
254     \textcolor{keyword}{asm} \textcolor{keyword}{volatile}(\textcolor{stringliteral}{"jmp *%0"}::\textcolor{stringliteral}{"r"}((uint32\_t)switch\_task));
255 \}
\end{DoxyCode}


Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=210pt]{task_8h_ad8e3087dd5a5c3096d2499c84f670c28_cgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\index{task.\+h@{task.\+h}!\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+attribute\+\_\+\+\_\+@{\+\_\+\+\_\+attribute\+\_\+\+\_\+}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+attribute\+\_\+\+\_\+}{__attribute__}}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf \+\_\+\+\_\+attribute\+\_\+\+\_\+}}\hypertarget{task_8h_a720173e80c53ae6b5fa163fd6e81ad27}{}\label{task_8h_a720173e80c53ae6b5fa163fd6e81ad27}


Definition at line 19 of file vmem.\+h.


\begin{DoxyCode}
20 \{
21     uint32\_t used;
22     uint32\_t \hyperlink{paging_8c_a6080e9390b1c9b1d3a42bf0790cbfd0d}{map}[4];
23     uint32\_t \hyperlink{multiboot_8h_a48f994dfe1a5aea3bce6dc7d2be8efd5}{addr};
24     uint32\_t reserved;
25     \hyperlink{paging_8h_a227fa4963f927f874cf466939abe839d}{page\_t}* page;
26 \}\hyperlink{vmem_8h_a820b5c7c8db63c3b056cf18f190157df}{MemMap\_t};
\end{DoxyCode}
\index{task.\+h@{task.\+h}!current\+\_\+esp@{current\+\_\+esp}}
\index{current\+\_\+esp@{current\+\_\+esp}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{current\+\_\+esp}{current_esp}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t current\+\_\+esp}\hypertarget{task_8h_a2e8249ebd29441d95406465c8b92d054}{}\label{task_8h_a2e8249ebd29441d95406465c8b92d054}


Definition at line 42 of file task.\+h.

\index{task.\+h@{task.\+h}!current\+\_\+queue@{current\+\_\+queue}}
\index{current\+\_\+queue@{current\+\_\+queue}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{current\+\_\+queue}{current_queue}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t current\+\_\+queue =0}\hypertarget{task_8h_a2ac2d83baa495c8f8f5ce21d0318db55}{}\label{task_8h_a2ac2d83baa495c8f8f5ce21d0318db55}


Definition at line 38 of file task.\+h.

\index{task.\+h@{task.\+h}!current\+\_\+queue\+\_\+member@{current\+\_\+queue\+\_\+member}}
\index{current\+\_\+queue\+\_\+member@{current\+\_\+queue\+\_\+member}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{current\+\_\+queue\+\_\+member}{current_queue_member}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf queue\+\_\+t} current\+\_\+queue\+\_\+member\mbox{[}10\mbox{]}}\hypertarget{task_8h_a1f60beb8ddb74e41a8b2bb930a5346c2}{}\label{task_8h_a1f60beb8ddb74e41a8b2bb930a5346c2}


Definition at line 36 of file task.\+h.

\index{task.\+h@{task.\+h}!current\+Task@{current\+Task}}
\index{current\+Task@{current\+Task}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{current\+Task}{currentTask}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf task\+\_\+t} $\ast$ current\+Task}\hypertarget{task_8h_a409499878d18d4bc424e5248c1a41819}{}\label{task_8h_a409499878d18d4bc424e5248c1a41819}


Definition at line 40 of file task.\+h.

\index{task.\+h@{task.\+h}!higher\+\_\+tick@{higher\+\_\+tick}}
\index{higher\+\_\+tick@{higher\+\_\+tick}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{higher\+\_\+tick}{higher_tick}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t higher\+\_\+tick =4}\hypertarget{task_8h_a7bfcf28b64e7b394e8a9d158b52c9198}{}\label{task_8h_a7bfcf28b64e7b394e8a9d158b52c9198}


Definition at line 38 of file task.\+h.

\index{task.\+h@{task.\+h}!last\+\_\+queue\+\_\+member@{last\+\_\+queue\+\_\+member}}
\index{last\+\_\+queue\+\_\+member@{last\+\_\+queue\+\_\+member}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{last\+\_\+queue\+\_\+member}{last_queue_member}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf queue\+\_\+t} last\+\_\+queue\+\_\+member\mbox{[}10\mbox{]}}\hypertarget{task_8h_aadbf085cc1040de2b9c8f238923cfe6a}{}\label{task_8h_aadbf085cc1040de2b9c8f238923cfe6a}


Definition at line 36 of file task.\+h.

\index{task.\+h@{task.\+h}!max\+\_\+priority@{max\+\_\+priority}}
\index{max\+\_\+priority@{max\+\_\+priority}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{max\+\_\+priority}{max_priority}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t max\+\_\+priority =0}\hypertarget{task_8h_a15c4a0f6d7427b3441c26bc9c13f098e}{}\label{task_8h_a15c4a0f6d7427b3441c26bc9c13f098e}


Definition at line 38 of file task.\+h.

\index{task.\+h@{task.\+h}!Number\+Of\+Tasks@{Number\+Of\+Tasks}}
\index{Number\+Of\+Tasks@{Number\+Of\+Tasks}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{Number\+Of\+Tasks}{NumberOfTasks}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Number\+Of\+Tasks}\hypertarget{task_8h_aa8a4e2d7096ee211383517165e036958}{}\label{task_8h_aa8a4e2d7096ee211383517165e036958}


Definition at line 44 of file task.\+h.

\index{task.\+h@{task.\+h}!old\+\_\+esp@{old\+\_\+esp}}
\index{old\+\_\+esp@{old\+\_\+esp}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{old\+\_\+esp}{old_esp}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t old\+\_\+esp}\hypertarget{task_8h_a83814dee4b70b00791ca3f88e79a4e9c}{}\label{task_8h_a83814dee4b70b00791ca3f88e79a4e9c}


Definition at line 42 of file task.\+h.

\index{task.\+h@{task.\+h}!queue@{queue}}
\index{queue@{queue}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{queue}{queue}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf queue\+\_\+t} queue\mbox{[}10\mbox{]}}\hypertarget{task_8h_a6c4a3431ba3f30c636f4e30e95f91d60}{}\label{task_8h_a6c4a3431ba3f30c636f4e30e95f91d60}


Definition at line 36 of file task.\+h.

\index{task.\+h@{task.\+h}!queue\+\_\+serials@{queue\+\_\+serials}}
\index{queue\+\_\+serials@{queue\+\_\+serials}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{queue\+\_\+serials}{queue_serials}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t queue\+\_\+serials\mbox{[}10\mbox{]}}\hypertarget{task_8h_abb4414aa53c092db91f907cb96ff2317}{}\label{task_8h_abb4414aa53c092db91f907cb96ff2317}


Definition at line 38 of file task.\+h.

\index{task.\+h@{task.\+h}!rn@{rn}}
\index{rn@{rn}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{rn}{rn}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t rn =0}\hypertarget{task_8h_aef17a2244b67698919998c8cbfa22dae}{}\label{task_8h_aef17a2244b67698919998c8cbfa22dae}


Definition at line 38 of file task.\+h.

\index{task.\+h@{task.\+h}!Start\+Task@{Start\+Task}}
\index{Start\+Task@{Start\+Task}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{Start\+Task}{StartTask}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf task\+\_\+t}$\ast$ Start\+Task}\hypertarget{task_8h_a3caeb759add413a3500f7904a3e0f7ea}{}\label{task_8h_a3caeb759add413a3500f7904a3e0f7ea}


Definition at line 40 of file task.\+h.

\index{task.\+h@{task.\+h}!timer\+\_\+tick@{timer\+\_\+tick}}
\index{timer\+\_\+tick@{timer\+\_\+tick}!task.\+h@{task.\+h}}
\subsubsection[{\texorpdfstring{timer\+\_\+tick}{timer_tick}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t timer\+\_\+tick =5}\hypertarget{task_8h_ad22ece930bea10cb832718f2476f64fb}{}\label{task_8h_ad22ece930bea10cb832718f2476f64fb}


Definition at line 38 of file task.\+h.

